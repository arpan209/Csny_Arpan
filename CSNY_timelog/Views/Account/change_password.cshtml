
@model OPBids.Models.ChangePasswordModel

@{
    ViewBag.Title = "Change Password";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<script type="text/javascript">

    function ValidateForm()
    {
        var error = "";
        
        var OldPassword = document.getElementById('OldPassword');
        var NewPwd = document.getElementById('NewPassword');
        var ConfirmPwd = document.getElementById('ConfirmPassword');

        
        if (OldPassword.value == "")
        {
            error += "Please Enter Current Password.\n";

        }

        if (NewPwd.value == "")
        {
            error += "Please Enter New Password.\n";

        }
        if (ConfirmPwd.value == "")
        {
            error += "Please Enter Confirm Password.\n ";
        }
        else 
        {
            if (NewPwd.value != ConfirmPwd.value && NewPwd.value != "")
            {
                error += "Please Check Password not Match.\n";
            }
        }

        if (error != "") {
            alert(error);
            return false;
        }
        else
        {
            return true;
        }       
    }
</script>


<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/Password_Checkerscript.js")"></script>

@*<script src="Script/jquery.password-strength.js" type="text/javascript"></script>*@

<script type="text/javascript">
    $(document).ready(function () {
        var myPlugin = $("[id$='NewPassword']").password_strength();

        $("[id$='btn_sbmt']").click(function () {
            return myPlugin.metReq(); //return true or false
        });
    });
</script>



@using (Html.BeginForm()) {
    @Html.ValidationSummary(true, "Password change was unsuccessful. Please correct the errors and try again.")
    
     <div class="main_content">
          <div class="page_heading">
                       <p>Change Password</p>
          </div>         
     <br />
          <br /> 
         <p>
    Use the form below to change your password. 
</p>

            <div class="editor-label">
            <strong>    @Html.LabelFor(m => m.OldPassword) :</strong>
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.OldPassword, new { @maxlength = "12" })
                @Html.ValidationMessageFor(m => m.OldPassword)
            </div>

            <div class="editor-label">
              <strong>  @Html.LabelFor(m => m.NewPassword) :</strong>
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.NewPassword, new { @maxlength = "12" })
                @Html.ValidationMessageFor(m => m.NewPassword)
            </div>
            
            <div class="editor-label">
              <strong>  @Html.LabelFor(m => m.ConfirmPassword) :</strong>
            </div>
            <div class="editor-field">
                @Html.PasswordFor(m => m.ConfirmPassword, new { @maxlength = "12" })
                @Html.ValidationMessageFor(m => m.ConfirmPassword)
                <br />
                <br />
                <input type="submit" value="Change Password" id="btn_sbmt" class="input_button" style="width:200px" onclick="return ValidateForm()"/>
            </div>

            <p>
                
            </p>
      </div> 
}
